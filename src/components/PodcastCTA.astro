---
import podcastData from '../data/podcastData.js';
---

<section
  aria-labelledby="podcast-cta-title"
  class="relative mx-auto max-w-6xl rounded-lg border border-primary-200 bg-accent-900/90 p-6 shadow-sm backdrop-blur md:p-10 my-8"
>
  <!-- top accent -->
  <div class="pointer-events-none absolute inset-x-0 top-0 h-1 rounded-lg bg-primary-500"></div>

  <div class="grid items-start gap-8 md:grid-cols-2">
    <div class="space-y-5">
      <div class="inline-flex items-center gap-2 text-xs font-medium uppercase tracking-wide text-zinc-500">
        <span class="inline-flex h-5 w-5 items-center justify-center rounded-full bg-emerald-50 text-emerald-700 ring-1 ring-emerald-100">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
	          <path fill="" d="M14 12c0 .74-.4 1.38-1 1.72V22h-2v-8.28c-.6-.35-1-.98-1-1.72c0-1.1.9-2 2-2s2 .9 2 2m-2-6c-3.31 0-6 2.69-6 6c0 1.74.75 3.31 1.94 4.4l1.42-1.42A3.96 3.96 0 0 1 8 12c0-2.21 1.79-4 4-4s4 1.79 4 4c0 1.19-.53 2.25-1.36 2.98l1.42 1.42A5.96 5.96 0 0 0 18 12c0-3.31-2.69-6-6-6m0-4C6.48 2 2 6.48 2 12c0 2.85 1.2 5.41 3.11 7.24l1.42-1.42A8 8 0 0 1 4 12c0-4.41 3.59-8 8-8s8 3.59 8 8c0 2.29-.98 4.36-2.53 5.82l1.42 1.42C20.8 17.41 22 14.85 22 12c0-5.52-4.48-10-10-10" />
          </svg>
        </span>
        <span>{podcastData.eyebrow}</span>
      </div>

      <h2 id="podcast-cta-title" class="text-2xl font-semibold tracking-tight text-zinc-900 md:text-3xl">
        {podcastData.title}
      </h2>

      <p class="max-w-prose text-zinc-600">
        {podcastData.description}
      </p>

      <div class="flex flex-wrap items-center gap-3">
        {podcastData.ctaButtons?.map((button) => (
          <a
            href={button.href}
            class="inline-flex items-center gap-2 rounded-lg bg-primary-600 px-4 py-2 text-sm font-medium text-white hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2"
            target="_blank"
            rel="noopener noreferrer"
            aria-label={button.label}
          >
            {button.label}
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
              <path fill-rule="evenodd" d="M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd" />
            </svg>
          </a>
        ))}
      </div>

      <p class="text-xs text-zinc-500">External links open in a new tab.</p>
    </div>

    <!-- Players -->
    <div class="w-full space-y-4">
      {podcastData.embedSrc && (
        <div class="overflow-hidden rounded-xl ring-1 ring-zinc-200">
          <iframe
            src={podcastData.embedSrc}
            width="100%"
            height="232"
            allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
            loading="lazy"
            title="Spotify podcast player"
          ></iframe>
        </div>
      )}

      {podcastData.appleEmbedSrc && (
        <div class="overflow-hidden rounded-xl ring-1 ring-zinc-200">
          <iframe
            src={podcastData.appleEmbedSrc}
            width="100%"
            height="175"
            allow="autoplay *; encrypted-media *; fullscreen *; clipboard-write"
            sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
            loading="lazy"
            title="Apple Podcasts player"
            style="background-color: transparent; border-radius: 10px;"
          ></iframe>
        </div>
      )}
    </div>
  </div>
</section>

<iframe allow="autoplay *; encrypted-media *; fullscreen *; clipboard-write" frameborder="0" height="450" style="width:100%;max-width:660px;overflow:hidden;border-radius:10px;" sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-storage-access-by-user-activation allow-top-navigation-by-user-activation" src="https://embed.podcasts.apple.com/us/podcast/nv-flight-briefing/id1795141117"></iframe>
